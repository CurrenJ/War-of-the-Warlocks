package Essentials;
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.MouseInfo;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.util.ArrayList;

import javax.swing.JPanel;
import javax.swing.JTextField;

import Cameras.Camera;
import Characters.Player;
import Graphics.EntityGraphics;
import Graphics.InventoryGraphics;
import Graphics.ItemGraphics;
import Graphics.PlatformGraphics;
import Graphics.PlayerGraphics;
import Items.Item;
import Items.SoulItem;
import Levels.Level;
import Levels.Level1;
import Levels.Level2;
import Physics.ItemPhysics;
import Physics.PlayerPhysics;
import Platforms.Platform;


public class WotWPanel extends JPanel implements KeyListener, MouseListener{
	JTextField typingArea;
	static Window window;
	ArrayList<Level> levels;
	int level = 1;
	
	Level1 level1;
	Level2 level2;
	Player player;

	public WotWPanel(Window window) throws Exception{
		this.window = window;

		typingArea = new JTextField();
		typingArea.addKeyListener(this);
		addMouseListener(this);
		add(typingArea, BorderLayout.PAGE_START);

		setBackground(Color.decode("#FFFFFF"));
		setPreferredSize(new Dimension(window.WIDTH, window.HEIGHT));
		setDoubleBuffered(true);
		
		player = new Player(null, 10, getHeight(), 0, 0, 0, 0, 0, 16, 16);
		levels = new ArrayList();
		
		level1 = new Level1(1, player, this);
		level2 = new Level2(player, this);
		
		levels.add(level1);
		levels.add(level2);
		
		levels.get(level).initialize();
	}

	public void paint(Graphics g){
		super.paint(g);
		
		levels.get(level).paint(g);
	}

	public int getMouseX(){
		return (int) (MouseInfo.getPointerInfo().getLocation().getX()-window.getX());
	}

	public int getMouseY(){
		return (int) (MouseInfo.getPointerInfo().getLocation().getY()-window.getY());
	}

	@Override
	public void mouseClicked(MouseEvent e) {}

	@Override
	public void mouseEntered(MouseEvent e) {}

	@Override
	public void mouseExited(MouseEvent e) {}

	@Override
	public void mousePressed(MouseEvent e) {}

	@Override
	public void mouseReleased(MouseEvent e) {}

	@Override
	public void keyPressed(KeyEvent e) {
		levels.get(level).keyPressed(e);
	}

	@Override
	public void keyReleased(KeyEvent e) {}

	@Override
	public void keyTyped(KeyEvent e) {
	}
}
